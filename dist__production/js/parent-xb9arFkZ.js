const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./iframes-BQqXi_6o.js","./@vue-5amejw8K.js","./vue-router-Bq7HluqB.js"])))=>i.map(i=>d[i]);
import{c as e,u as s,e as i,S as a,b as t}from"./index-C6Oaj51j.js";import{d as r,_ as o,k as m,G as p,n as l,j as n,Z as u,e as f,c as j,V as v,P as d,X as c,ai as h,o as y,O as w,Q as R,W as g,R as V,aE as K,u as L,aU as _}from"./@vue-5amejw8K.js";import{u as k,b as A}from"./vue-router-Bq7HluqB.js";import{s as T}from"./pinia-BQfi-U52.js";import"./js-cookie-BXEMiIsG.js";import"./@element-plus-YR8FD5Tz.js";import"./nprogress-CwwpQnHY.js";import"./@intlify-KwFOTgoq.js";import"./axios-XtWrBBVz.js";import"./qs-CNvNvzRH.js";import"./side-channel-NiHXawGT.js";import"./get-intrinsic-Dcwdwnz4.js";import"./es-errors-Bza6HHKb.js";import"./has-symbols-BjfDv0FJ.js";import"./has-proto-DxUgyt-t.js";import"./function-bind-Ckw9YnhN.js";import"./hasown-DTGZhiFA.js";import"./call-bind-DNdIo3tM.js";import"./set-function-length-j1rusX0P.js";import"./define-data-property-DvIQPL4R.js";import"./es-define-property-DwRRhIwF.js";import"./gopd-CVOMcQVD.js";import"./has-property-descriptors-CDOEcoVi.js";import"./object-inspect-Da024_OR.js";import"./element-plus-AyclcJdL.js";import"./lodash-es-EFZEm3Z2.js";import"./@vueuse-DWSxN83p.js";import"./@popperjs-CpAfbxx4.js";import"./@ctrl-D2oWfImC.js";import"./dayjs-BeASU03D.js";import"./async-validator-Cuo4gI4y.js";import"./memoize-one-Ds0C_khL.js";import"./normalize-wheel-es-Vn5vHDCm.js";import"./@floating-ui-DT7V1Oc1.js";import"./vue-i18n-agluwRAO.js";import"./vue-CBwmpGZq.js";import"./mitt-CNZ6avp8.js";import"./vue-grid-layout-WvDAhvPt.js";/* empty css                    */import"./default-passive-events-DAEqUm54.js";import"./vue-demi-Dq6ymT-8.js";const b={class:"layout-parent"},I=r({__name:"parent",setup(r){const I=_((()=>t((()=>import("./iframes-BQqXi_6o.js")),__vite__mapDeps([0,1,2]),import.meta.url))),N=k(),P=A(),x=e(),C=s(),{keepAliveNames:E,cachedViews:O}=T(x),{themeConfig:z}=T(C),U=o({refreshRouterViewKey:"",iframeRefreshKey:"",keepAliveNameList:[],iframeList:[]}),D=m((()=>z.value.animation)),W=m((()=>z.value.isTagsview?O.value:U.keepAliveNameList)),X=m((()=>N.meta.isIframe));return p((()=>{U.keepAliveNameList=E.value,i.on("onTagsViewRefreshRouterView",(e=>{U.keepAliveNameList=E.value.filter((e=>N.name!==e)),U.refreshRouterViewKey="",U.iframeRefreshKey="",l((()=>{U.refreshRouterViewKey=e,U.iframeRefreshKey=e,U.keepAliveNameList=E.value}))}))})),n((()=>{(async()=>{P.getRoutes().forEach((e=>{e.meta.isIframe&&(e.meta.isIframeOpen=!1,e.meta.loading=!0,U.iframeList.push({...e}))}))})(),l((()=>{setTimeout((()=>{if(z.value.isCacheTagsView){let e=a.get("tagsViewList")||[];O.value=e.filter((e=>{var s;return null==(s=e.meta)?void 0:s.isKeepAlive})).map((e=>e.name))}}),0)}))})),u((()=>{i.off("onTagsViewRefreshRouterView",(()=>{}))})),f((()=>N.fullPath),(()=>{U.refreshRouterViewKey=decodeURI(N.fullPath)}),{immediate:!0}),(e,s)=>{const i=h("router-view");return y(),j("div",b,[v(i,null,{default:d((({Component:e})=>[v(c,{name:D.value,mode:"out-in"},{default:d((()=>[(y(),w(K,{include:W.value},[R((y(),w(V(e),{key:U.refreshRouterViewKey,class:"w100"})),[[g,!X.value]])],1032,["include"]))])),_:2},1032,["name"])])),_:1}),v(c,{name:D.value,mode:"out-in"},{default:d((()=>[R(v(L(I),{class:"w100",refreshKey:U.iframeRefreshKey,name:D.value,list:U.iframeList},null,8,["refreshKey","name","list"]),[[g,X.value]])])),_:1},8,["name"])])}}});export{I as default};
