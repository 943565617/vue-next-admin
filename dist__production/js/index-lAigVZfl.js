import{d as e,b as t,_ as i,j as o,ai as s,Q as r,W as a,o as n,c as p,a as l,J as m,S as d,U as c,I as u,O as f,K as j,n as y}from"./@vue-5amejw8K.js";import{_ as h}from"./index-C6Oaj51j.js";import"./pinia-BQfi-U52.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-router-Bq7HluqB.js";import"./js-cookie-BXEMiIsG.js";import"./@element-plus-YR8FD5Tz.js";import"./nprogress-CwwpQnHY.js";import"./@intlify-KwFOTgoq.js";import"./axios-XtWrBBVz.js";import"./qs-CNvNvzRH.js";import"./side-channel-NiHXawGT.js";import"./get-intrinsic-Dcwdwnz4.js";import"./es-errors-Bza6HHKb.js";import"./has-symbols-BjfDv0FJ.js";import"./has-proto-DxUgyt-t.js";import"./function-bind-Ckw9YnhN.js";import"./hasown-DTGZhiFA.js";import"./call-bind-DNdIo3tM.js";import"./set-function-length-j1rusX0P.js";import"./define-data-property-DvIQPL4R.js";import"./es-define-property-DwRRhIwF.js";import"./gopd-CVOMcQVD.js";import"./has-property-descriptors-CDOEcoVi.js";import"./object-inspect-Da024_OR.js";import"./element-plus-AyclcJdL.js";import"./lodash-es-EFZEm3Z2.js";import"./@vueuse-DWSxN83p.js";import"./@popperjs-CpAfbxx4.js";import"./@ctrl-D2oWfImC.js";import"./dayjs-BeASU03D.js";import"./async-validator-Cuo4gI4y.js";import"./memoize-one-Ds0C_khL.js";import"./normalize-wheel-es-Vn5vHDCm.js";import"./@floating-ui-DT7V1Oc1.js";import"./vue-i18n-agluwRAO.js";import"./vue-CBwmpGZq.js";import"./mitt-CNZ6avp8.js";import"./vue-grid-layout-WvDAhvPt.js";/* empty css                    */import"./default-passive-events-DAEqUm54.js";const g={key:1,class:"notice-bar-warp-slot"},v=h(e({__name:"index",props:{mode:{type:String,default:()=>""},text:{type:String,default:()=>""},color:{type:String,default:()=>"var(--el-color-warning)"},background:{type:String,default:()=>"var(--el-color-warning-light-9)"},size:{type:[Number,String],default:()=>14},height:{type:Number,default:()=>40},delay:{type:Number,default:()=>1},speed:{type:Number,default:()=>100},scrollable:{type:Boolean,default:()=>!1},leftIcon:{type:String,default:()=>""},rightIcon:{type:String,default:()=>""}},emits:["close","link"],setup(e,{emit:h}){const v=e,b=h,x=t(),w=t(),k=i({order:1,oneTime:0,twoTime:0,warpOWidth:0,textOWidth:0,isMode:!1}),W=()=>{k.oneTime=k.textOWidth/v.speed,k.twoTime=(k.textOWidth+k.warpOWidth)/v.speed},O=()=>{w.value&&(1===k.order?(w.value.style.cssText=`animation: oneAnimation ${k.oneTime}s linear; opactity: 1;}`,k.order=2):w.value.style.cssText=`animation: twoAnimation ${k.twoTime}s linear infinite; opacity: 1;`)},S=()=>{if(!v.mode)return!1;"closeable"===v.mode?(k.isMode=!0,b("close")):"link"===v.mode&&b("link")};return o((()=>{if(v.scrollable)return!1;y((()=>{k.warpOWidth=x.value.offsetWidth,k.textOWidth=w.value.offsetWidth,document.styleSheets[0].insertRule(`@keyframes oneAnimation {0% {left: 0px;} 100% {left: -${k.textOWidth}px;}}`),document.styleSheets[0].insertRule(`@keyframes twoAnimation {0% {left: ${k.warpOWidth}px;} 100% {left: -${k.textOWidth}px;}}`),W(),setTimeout((()=>{O()}),1e3*v.delay)})),w.value.addEventListener("animationend",(()=>{O()}),!1)})),(t,i)=>{const o=s("SvgIcon");return r((n(),p("div",{class:"notice-bar",style:j({background:e.background,height:`${e.height}px`})},[l("div",{class:"notice-bar-warp",style:j({color:e.color,fontSize:`${e.size}px`})},[e.leftIcon?(n(),p("i",{key:0,class:m(["notice-bar-warp-left-icon",e.leftIcon])},null,2)):d("",!0),l("div",{class:"notice-bar-warp-text-box",ref_key:"noticeBarWarpRef",ref:x},[e.scrollable?(n(),p("div",g,[u(t.$slots,"default",{},void 0,!0)])):(n(),p("div",{key:0,class:"notice-bar-warp-text",ref_key:"noticeBarTextRef",ref:w},c(e.text),513))],512),e.rightIcon?(n(),f(o,{key:1,name:e.rightIcon,class:"notice-bar-warp-right-icon",onClick:S},null,8,["name"])):d("",!0)],4)],4)),[[a,!k.isMode]])}}}),[["__scopeId","data-v-746f8ed5"]]);export{v as default};
