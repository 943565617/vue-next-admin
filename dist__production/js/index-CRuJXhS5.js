const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./dialog-DOEO4oeE.js","./@vue-5amejw8K.js"])))=>i.map(i=>d[i]);
import{b as t}from"./index-DtAKVlX9.js";import{E as e,a}from"./element-plus-AyclcJdL.js";import{d as o,b as s,_ as i,j as r,c as l,V as p,P as d,u as n,ai as m,aq as u,o as c,a as j,T as f,Q as h,O as y,U as b,aU as w}from"./@vue-5amejw8K.js";import"./pinia-CTGgt2hX.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-router-Bq7HluqB.js";import"./js-cookie-BXEMiIsG.js";import"./@element-plus-YR8FD5Tz.js";import"./nprogress-CwwpQnHY.js";import"./@intlify-KwFOTgoq.js";import"./axios-XtWrBBVz.js";import"./qs-d0NUDaEV.js";import"./side-channel-ABGcfzWN.js";import"./get-intrinsic-Dcwdwnz4.js";import"./es-errors-Bza6HHKb.js";import"./has-symbols-BjfDv0FJ.js";import"./has-proto-DxUgyt-t.js";import"./function-bind-Ckw9YnhN.js";import"./hasown-DTGZhiFA.js";import"./call-bind-COXgxIYc.js";import"./set-function-length-CYeVTiyi.js";import"./define-data-property-DvIQPL4R.js";import"./es-define-property-DwRRhIwF.js";import"./gopd-CVOMcQVD.js";import"./has-property-descriptors-CDOEcoVi.js";import"./object-inspect-Da024_OR.js";import"./vue-i18n-agluwRAO.js";import"./vue-CBwmpGZq.js";import"./mitt-CNZ6avp8.js";import"./vue-grid-layout-WvDAhvPt.js";/* empty css                    */import"./lodash-es-EFZEm3Z2.js";import"./@vueuse-DWSxN83p.js";import"./@popperjs-CpAfbxx4.js";import"./@ctrl-D2oWfImC.js";import"./dayjs-BeASU03D.js";import"./async-validator-Cuo4gI4y.js";import"./memoize-one-Ds0C_khL.js";import"./normalize-wheel-es-Vn5vHDCm.js";import"./@floating-ui-DT7V1Oc1.js";const g={class:"system-dept-container layout-padding"},v={class:"system-dept-search mb15"},_=o({__name:"index",setup(o){const _=w((()=>t((()=>import("./dialog-DOEO4oeE.js")),__vite__mapDeps([0,1]),import.meta.url))),D=s(),x=i({tableData:{data:[],total:0,loading:!1,param:{pageNum:1,pageSize:10}}}),k=()=>{x.tableData.loading=!0,x.tableData.data=[],x.tableData.data.push({deptName:"vueNextAdmin",createTime:(new Date).toLocaleString(),status:!0,sort:Math.random(),describe:"顶级部门",id:Math.random(),children:[{deptName:"IT外包服务",createTime:(new Date).toLocaleString(),status:!0,sort:Math.random(),describe:"总部",id:Math.random()},{deptName:"资本控股",createTime:(new Date).toLocaleString(),status:!0,sort:Math.random(),describe:"分部",id:Math.random()}]}),x.tableData.total=x.tableData.data.length,setTimeout((()=>{x.tableData.loading=!1}),500)},T=t=>{D.value.openDialog(t)};return r((()=>{k()})),(t,o)=>{const s=m("el-input"),i=m("ele-Search"),r=m("el-icon"),w=m("el-button"),z=m("ele-FolderAdd"),C=m("el-table-column"),N=m("el-tag"),M=m("el-table"),S=m("el-card"),A=u("loading");return c(),l("div",g,[p(S,{shadow:"hover",class:"layout-padding-auto"},{default:d((()=>[j("div",v,[p(s,{size:"default",placeholder:"请输入部门名称",style:{"max-width":"180px"}}),p(w,{size:"default",type:"primary",class:"ml10"},{default:d((()=>[p(r,null,{default:d((()=>[p(i)])),_:1}),o[3]||(o[3]=f(" 查询 "))])),_:1}),p(w,{size:"default",type:"success",class:"ml10",onClick:o[0]||(o[0]=t=>T("add"))},{default:d((()=>[p(r,null,{default:d((()=>[p(z)])),_:1}),o[4]||(o[4]=f(" 新增部门 "))])),_:1})]),h((c(),y(M,{data:x.tableData.data,style:{width:"100%"},"row-key":"id","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}},{default:d((()=>[p(C,{prop:"deptName",label:"部门名称","show-overflow-tooltip":""}),p(C,{label:"排序","show-overflow-tooltip":"",width:"80"},{default:d((t=>[f(b(t.$index),1)])),_:1}),p(C,{prop:"status",label:"部门状态","show-overflow-tooltip":""},{default:d((t=>[t.row.status?(c(),y(N,{key:0,type:"success"},{default:d((()=>o[5]||(o[5]=[f("启用")]))),_:1})):(c(),y(N,{key:1,type:"info"},{default:d((()=>o[6]||(o[6]=[f("禁用")]))),_:1}))])),_:1}),p(C,{prop:"describe",label:"部门描述","show-overflow-tooltip":""}),p(C,{prop:"createTime",label:"创建时间","show-overflow-tooltip":""}),p(C,{label:"操作","show-overflow-tooltip":"",width:"140"},{default:d((t=>[p(w,{size:"small",text:"",type:"primary",onClick:o[1]||(o[1]=t=>T("add"))},{default:d((()=>o[7]||(o[7]=[f("新增")]))),_:1}),p(w,{size:"small",text:"",type:"primary",onClick:e=>{return a="edit",o=t.row,void D.value.openDialog(a,o);var a,o}},{default:d((()=>o[8]||(o[8]=[f("修改")]))),_:2},1032,["onClick"]),p(w,{size:"small",text:"",type:"primary",onClick:o=>{return s=t.row,void e.confirm(`此操作将永久删除部门：${s.deptName}, 是否继续?`,"提示",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then((()=>{k(),a.success("删除成功")})).catch((()=>{}));var s}},{default:d((()=>o[9]||(o[9]=[f("删除")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])),[[A,x.tableData.loading]])])),_:1}),p(n(_),{ref_key:"deptDialogRef",ref:D,onRefresh:o[2]||(o[2]=t=>k())},null,512)])}}});export{_ as default};
