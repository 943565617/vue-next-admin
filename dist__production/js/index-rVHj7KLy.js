import{d as e,b as l,_ as a,c as d,V as o,P as r,ai as s,o as t,F as p,a9 as i,Q as m,W as u,O as n,S as c,a as f,u as b,T as y}from"./@vue-5amejw8K.js";import{a as h}from"./element-plus-AyclcJdL.js";import"./lodash-es-EFZEm3Z2.js";import"./@vueuse-DWSxN83p.js";import"./@element-plus-YR8FD5Tz.js";import"./@popperjs-CpAfbxx4.js";import"./@ctrl-D2oWfImC.js";import"./dayjs-BeASU03D.js";import"./@intlify-KwFOTgoq.js";import"./async-validator-Cuo4gI4y.js";import"./memoize-one-Ds0C_khL.js";import"./normalize-wheel-es-Vn5vHDCm.js";import"./@floating-ui-DT7V1Oc1.js";const x=[{label:"姓名",prop:"name",placeholder:"请输入姓名",clearable:!0,disabled:!1,required:!0,type:"input",i18n:!1,i18nText:"",isShow:!0,xs:24,sm:12,md:8,lg:6,xl:4},{label:"邮箱",prop:"email",placeholder:"请输入用户邮箱",clearable:!0,disabled:!1,required:!0,type:"input",i18n:!1,i18nText:"",isShow:!0,xs:24,sm:12,md:8,lg:6,xl:4},{label:"登陆时间",prop:"autograph",placeholder:"选择时间",clearable:!0,disabled:!1,required:!0,type:"date",i18n:!1,i18nText:"",isShow:!0,xs:24,sm:12,md:8,lg:6,xl:4},{label:"职务",prop:"occupation",placeholder:"请选择职务",clearable:!0,disabled:!1,required:!0,type:"select",i18n:!1,i18nText:"",options:[{label:"计算机 / 互联网 / 通信",value:"1"},{label:"生产 / 工艺 / 制造",value:"2"},{label:"医疗 / 护理 / 制药",value:"3"}],isShow:!0,xs:24,sm:12,md:8,lg:6,xl:4},{label:"",prop:"",placeholder:"",clearable:!0,disabled:!1,required:!0,type:"",i18n:!1,i18nText:"",isShow:!0,xs:24,sm:24,md:24,lg:24,xl:24},{label:"备注",prop:"remarks",placeholder:"请输入",clearable:!0,disabled:!1,required:!0,type:"textarea",i18n:!1,i18nText:"",isShow:!0,xs:24,sm:24,md:24,lg:24,xl:24}],g={class:"dynamic-form-container layout-pd"},V={class:"flex-margin"},_=e({__name:"index",setup(e){const _=l(),k=a({formData:x,form:{name:"",email:"",autograph:"",occupation:"",list:[{year:"",month:"",day:""}],remarks:""}}),v=()=>{k.form.list.push({year:"",month:"",day:""})};return(e,l)=>{const a=s("el-input"),w=s("el-date-picker"),j=s("el-option"),U=s("el-select"),q=s("el-form-item"),S=s("ele-Plus"),z=s("el-icon"),T=s("el-button"),C=s("ele-Delete"),R=s("el-col"),$=s("el-row"),D=s("el-form"),F=s("el-card"),O=s("ele-RefreshRight"),P=s("SvgIcon");return t(),d("div",g,[o(F,{shadow:"hover",header:"动态复杂表单"},{default:r((()=>[o(D,{model:k.form,ref_key:"formRulesOneRef",ref:_,size:"default","label-width":"100px",class:"mt35"},{default:r((()=>[o($,{gutter:35},{default:r((()=>[(t(!0),d(p,null,i(b(x),((e,s)=>m((t(),n(R,{xs:e.xs,sm:e.sm,md:e.md,lg:e.md,xl:e.xl,class:"mb20",key:s},{default:r((()=>[""!==e.type?(t(),d(p,{key:0},[""!==e.type?(t(),n(q,{key:0,label:e.label,prop:e.prop,rules:[{required:e.required,message:`${e.label}不能为空`,trigger:"input"===e.type?"blur":"change"}]},{default:r((()=>["input"===e.type?(t(),n(a,{key:0,modelValue:k.form[e.prop],"onUpdate:modelValue":l=>k.form[e.prop]=l,placeholder:e.placeholder,clearable:"",style:{width:"100%"},disabled:e.disabled},null,8,["modelValue","onUpdate:modelValue","placeholder","disabled"])):"date"===e.type?(t(),n(w,{key:1,modelValue:k.form[e.prop],"onUpdate:modelValue":l=>k.form[e.prop]=l,type:"date",placeholder:e.placeholder,style:{width:"100%"},disabled:e.disabled},null,8,["modelValue","onUpdate:modelValue","placeholder","disabled"])):"select"===e.type?(t(),n(U,{key:2,modelValue:k.form[e.prop],"onUpdate:modelValue":l=>k.form[e.prop]=l,placeholder:e.placeholder,style:{width:"100%"},disabled:e.disabled},{default:r((()=>[(t(!0),d(p,null,i(e.options,(e=>(t(),n(j,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","disabled"])):c("",!0),"textarea"===e.type?(t(),n(a,{key:3,type:"textarea",modelValue:k.form[e.prop],"onUpdate:modelValue":l=>k.form[e.prop]=l,placeholder:e.placeholder,clearable:"",style:{width:"100%"},disabled:e.disabled},null,8,["modelValue","onUpdate:modelValue","placeholder","disabled"])):c("",!0)])),_:2},1032,["label","prop","rules"])):c("",!0)],64)):(t(!0),d(p,{key:1},i(k.form.list,((e,d)=>(t(),n($,{gutter:35,key:d},{default:r((()=>[o(R,{xs:24,sm:12,md:8,lg:8,xl:6,class:"mb20"},{default:r((()=>[o(q,{label:"年度",prop:`list[${d}].year`,rules:[{required:!0,message:"年度不能为空",trigger:"blur"}]},{label:r((()=>[0===d?(t(),n(T,{key:0,type:"primary",circle:"",size:"small",onClick:v},{default:r((()=>[o(z,null,{default:r((()=>[o(S)])),_:1})])),_:1})):(t(),n(T,{key:1,type:"danger",circle:"",size:"small",onClick:e=>(e=>{k.form.list.splice(e,1)})(d)},{default:r((()=>[o(z,null,{default:r((()=>[o(C)])),_:1})])),_:2},1032,["onClick"])),l[2]||(l[2]=f("span",{class:"ml10"},"年度",-1))])),default:r((()=>[o(a,{modelValue:k.form.list[d].year,"onUpdate:modelValue":e=>k.form.list[d].year=e,style:{width:"100%"},placeholder:"请输入"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["prop"])])),_:2},1024),o(R,{xs:24,sm:12,md:8,lg:8,xl:6,class:"mb20"},{default:r((()=>[o(q,{label:"月度",prop:`list[${d}].month`,rules:[{required:!0,message:"月度不能为空",trigger:"blur"}]},{default:r((()=>[o(a,{modelValue:k.form.list[d].month,"onUpdate:modelValue":e=>k.form.list[d].month=e,style:{width:"100%"},placeholder:"请输入"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["prop"])])),_:2},1024),o(R,{xs:24,sm:12,md:8,lg:8,xl:6,class:"mb20"},{default:r((()=>[o(q,{label:"日度",prop:`list[${d}].day`,rules:[{required:!0,message:"日度不能为空",trigger:"blur"}]},{default:r((()=>[o(a,{modelValue:k.form.list[d].day,"onUpdate:modelValue":e=>k.form.list[d].day=e,style:{width:"100%"},placeholder:"请输入"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["prop"])])),_:2},1024)])),_:2},1024)))),128))])),_:2},1032,["xs","sm","md","lg","xl"])),[[u,e.isShow]]))),128))])),_:1})])),_:1},8,["model"])])),_:1}),o($,{class:"flex mt15"},{default:r((()=>[f("div",V,[o(T,{size:"default",onClick:l[0]||(l[0]=e=>{var l;(l=_.value)&&l.resetFields()})},{default:r((()=>[o(z,null,{default:r((()=>[o(O)])),_:1}),l[3]||(l[3]=y(" 重置表单 "))])),_:1}),o(T,{size:"default",type:"primary",onClick:l[1]||(l[1]=e=>{var l;(l=_.value)&&l.validate((e=>{if(!e)return!1;h.success("验证成功")}))})},{default:r((()=>[o(P,{name:"iconfont icon-shuxing"}),l[4]||(l[4]=y(" 验证表单 "))])),_:1})])])),_:1})])}}});export{_ as default};
