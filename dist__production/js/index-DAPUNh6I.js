import{a as e}from"./element-plus-AyclcJdL.js";import{d as a,b as l,_ as t,c as o,V as p,P as r,ai as d,o as s,F as i,a9 as u,O as n,S as m,a as c,U as f,T as y,n as b}from"./@vue-5amejw8K.js";import"./lodash-es-EFZEm3Z2.js";import"./@vueuse-DWSxN83p.js";import"./@element-plus-YR8FD5Tz.js";import"./@popperjs-CpAfbxx4.js";import"./@ctrl-D2oWfImC.js";import"./dayjs-BeASU03D.js";import"./@intlify-KwFOTgoq.js";import"./async-validator-Cuo4gI4y.js";import"./memoize-one-Ds0C_khL.js";import"./normalize-wheel-es-Vn5vHDCm.js";import"./@floating-ui-DT7V1Oc1.js";const h={class:"layout-pd"},w={key:0,class:"color-danger"},v={class:"pl5"},V={class:"flex-margin"},_=a({__name:"index",setup(a){const _=l(),j=l(),g=t({tableData:{data:[],header:[{prop:"a1",width:"",label:"一级分类",isRequired:!0,type:"select"},{prop:"a2",width:"",label:"二级分类",isRequired:!0,type:"select"},{prop:"a3",width:"",label:"三级分类",isRequired:!0,type:"select"},{prop:"a4",width:"",label:"四级分类",isRequired:!0,type:"date"},{prop:"a5",width:"",label:"五级分类",isRequired:!0,type:"input"},{prop:"a6",width:"",label:"六级分类",isTooltip:!0,type:"dialog"},{prop:"a7",width:"",label:"演示级分类",type:"input"},{prop:"a8",width:"",label:"颜色是分类",type:"input"}],option:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"}]}}),k=()=>{g.tableData.data.push({a1:"",a2:"",a3:"",a4:"",a5:"",a6:"",a7:"",a8:""}),j.value.doLayout(),b((()=>{j.value.setScrollTop(1e6)}))};return(a,l)=>{const t=d("el-tooltip"),b=d("el-option"),R=d("el-select"),q=d("el-date-picker"),x=d("el-input"),U=d("el-form-item"),D=d("el-table-column"),z=d("el-table"),T=d("el-form"),$=d("el-button"),C=d("el-row"),S=d("el-card");return s(),o("div",h,[p(S,{shadow:"hover",header:"表单表格验证"},{default:r((()=>[p(T,{ref_key:"tableRulesRef",ref:_,model:g.tableData,size:"default"},{default:r((()=>[p(z,{ref_key:"tableRef",ref:j,data:g.tableData.data,border:"",class:"module-table-uncollected","max-height":"200"},{default:r((()=>[(s(!0),o(i,null,u(g.tableData.header,((e,a)=>(s(),n(D,{key:a,"show-overflow-tooltip":"",prop:e.prop,width:e.width,label:e.label},{header:r((()=>[e.isRequired?(s(),o("span",w,"*")):m("",!0),c("span",v,f(e.label),1),e.isTooltip?(s(),n(t,{key:1,effect:"dark",content:"这是tooltip",placement:"top"},{default:r((()=>l[1]||(l[1]=[c("i",{class:"iconfont icon-quanxian"},null,-1)]))),_:1})):m("",!0)])),default:r((a=>[p(U,{prop:`data.${a.$index}.${e.prop}`,rules:[{required:e.isRequired,message:"不能为空",trigger:"input"==`${e.type}`?"blur":"change"}]},{default:r((()=>["select"===e.type?(s(),n(R,{key:0,modelValue:a.row[e.prop],"onUpdate:modelValue":l=>a.row[e.prop]=l,placeholder:"请选择"},{default:r((()=>[(s(!0),o(i,null,u(g.tableData.option,(e=>(s(),n(b,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])):"date"===e.type?(s(),n(q,{key:1,modelValue:a.row[e.prop],"onUpdate:modelValue":l=>a.row[e.prop]=l,type:"date",placeholder:"选择日期",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"])):"input"===e.type?(s(),n(x,{key:2,modelValue:a.row[e.prop],"onUpdate:modelValue":l=>a.row[e.prop]=l,placeholder:"请输入内容"},null,8,["modelValue","onUpdate:modelValue"])):"dialog"===e.type?(s(),n(x,{key:3,modelValue:a.row[e.prop],"onUpdate:modelValue":l=>a.row[e.prop]=l,readonly:"",placeholder:"请输入内容"},{suffix:r((()=>l[2]||(l[2]=[c("i",{class:"iconfont icon-shouye_dongtaihui"},null,-1)]))),_:2},1032,["modelValue","onUpdate:modelValue"])):m("",!0)])),_:2},1032,["prop","rules"])])),_:2},1032,["prop","width","label"])))),128))])),_:1},8,["data"])])),_:1},8,["model"]),p(C,{class:"flex mt15"},{default:r((()=>[c("div",V,[p($,{size:"default",type:"success",onClick:l[0]||(l[0]=a=>(a=>{if(g.tableData.data.length<=0)return e.warning("请先点击增加一行");a&&a.validate((a=>{if(!a)return e.warning("表格项必填未填");e.success("全部验证通过")}))})(_.value))},{default:r((()=>l[3]||(l[3]=[y("表格验证")]))),_:1}),p($,{size:"default",type:"primary",onClick:k},{default:r((()=>l[4]||(l[4]=[y("新增一行")]))),_:1})])])),_:1})])),_:1})])}}});export{_ as default};
