import{d as e,_ as t,k as o,j as s,Z as i,e as n,ai as r,o as a,O as p,P as l,Q as m,c as d,K as c,a as u,F as j,a9 as f,V as x,U as w,S as h,W as v,X as g}from"./@vue-5amejw8K.js";import{_ as y}from"./index-foLWFI6H.js";import"./pinia-CTGgt2hX.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-router-Bq7HluqB.js";import"./js-cookie-BXEMiIsG.js";import"./@element-plus-YR8FD5Tz.js";import"./nprogress-CwwpQnHY.js";import"./@intlify-KwFOTgoq.js";import"./axios-XtWrBBVz.js";import"./qs-d0NUDaEV.js";import"./side-channel-ABGcfzWN.js";import"./get-intrinsic-Dcwdwnz4.js";import"./es-errors-Bza6HHKb.js";import"./has-symbols-BjfDv0FJ.js";import"./has-proto-DxUgyt-t.js";import"./function-bind-Ckw9YnhN.js";import"./hasown-DTGZhiFA.js";import"./call-bind-COXgxIYc.js";import"./set-function-length-CYeVTiyi.js";import"./define-data-property-DvIQPL4R.js";import"./es-define-property-DwRRhIwF.js";import"./gopd-CVOMcQVD.js";import"./has-property-descriptors-CDOEcoVi.js";import"./object-inspect-Da024_OR.js";import"./element-plus-AyclcJdL.js";import"./lodash-es-EFZEm3Z2.js";import"./@vueuse-DWSxN83p.js";import"./@popperjs-CpAfbxx4.js";import"./@ctrl-D2oWfImC.js";import"./dayjs-BeASU03D.js";import"./async-validator-Cuo4gI4y.js";import"./memoize-one-Ds0C_khL.js";import"./normalize-wheel-es-Vn5vHDCm.js";import"./@floating-ui-DT7V1Oc1.js";import"./vue-i18n-agluwRAO.js";import"./vue-CBwmpGZq.js";import"./mitt-CNZ6avp8.js";import"./vue-grid-layout-WvDAhvPt.js";/* empty css                    */const C={class:"el-dropdown-menu"},k=["onClick"],_=y(e({__name:"contextmenu",props:{dropdown:{type:Object,default:()=>({x:0,y:0})}},emits:["currentContextmenuClick"],setup(e,{expose:y,emit:_}){const b=e,I=_,L=t({isShow:!1,dropdownList:[{contextMenuClickId:0,txt:"message.tagsView.refresh",affix:!1,icon:"ele-RefreshRight"},{contextMenuClickId:1,txt:"message.tagsView.close",affix:!1,icon:"ele-Close"},{contextMenuClickId:2,txt:"message.tagsView.closeOther",affix:!1,icon:"ele-CircleClose"},{contextMenuClickId:3,txt:"message.tagsView.closeAll",affix:!1,icon:"ele-FolderDelete"},{contextMenuClickId:4,txt:"message.tagsView.fullscreen",affix:!1,icon:"iconfont icon-fullscreen"}],item:{},arrowLeft:10}),M=o((()=>b.dropdown.x+117>document.documentElement.clientWidth?{x:document.documentElement.clientWidth-117-5,y:b.dropdown.y}:b.dropdown)),S=()=>{L.isShow=!1};return s((()=>{document.body.addEventListener("click",S)})),i((()=>{document.body.removeEventListener("click",S)})),n((()=>b.dropdown),(({x:e})=>{e+117>document.documentElement.clientWidth?L.arrowLeft=117-(document.documentElement.clientWidth-e):L.arrowLeft=10}),{deep:!0}),y({openContextmenu:e=>{var t;L.item=e,(null==(t=e.meta)?void 0:t.isAffix)?L.dropdownList[1].affix=!0:L.dropdownList[1].affix=!1,S(),setTimeout((()=>{L.isShow=!0}),10)}}),(e,t)=>{const o=r("SvgIcon");return a(),p(g,{name:"el-zoom-in-center"},{default:l((()=>[m((a(),d("div",{"aria-hidden":"true",class:"el-dropdown__popper el-popper is-light is-pure custom-contextmenu",role:"tooltip","data-popper-placement":"bottom",style:c(`top: ${M.value.y+5}px;left: ${M.value.x}px;`),key:Math.random()},[u("ul",C,[(a(!0),d(j,null,f(L.dropdownList,((t,s)=>(a(),d(j,null,[t.affix?h("",!0):(a(),d("li",{class:"el-dropdown-menu__item","aria-disabled":"false",tabindex:"-1",key:s,onClick:e=>{return o=t.contextMenuClickId,void I("currentContextmenuClick",Object.assign({},{contextMenuClickId:o},L.item));var o}},[x(o,{name:t.icon},null,8,["name"]),u("span",null,w(e.$t(t.txt)),1)],8,k))],64)))),256))]),u("div",{class:"el-popper__arrow",style:c({left:`${L.arrowLeft}px`})},null,4)],4)),[[v,L.isShow]])])),_:1})}}}),[["__scopeId","data-v-4175634c"]]);export{_ as default};
