const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/iframes-BQqXi_6o.js","js/@vue-5amejw8K.js","js/vue-router-Bq7HluqB.js"])))=>i.map(i=>d[i]);
import{c as e,u as s,e as i,S as a,b as t}from"./index-D30c5w24.js";import{d as r,_ as o,k as m,G as p,n as l,j as n,Z as u,e as f,c as j,V as v,P as d,X as c,ai as h,o as y,O as w,Q as R,W as g,R as V,aE as K,u as _,aU as L}from"./@vue-5amejw8K.js";import{u as k,b as A}from"./vue-router-Bq7HluqB.js";import{s as b}from"./pinia-CTGgt2hX.js";import"./js-cookie-BXEMiIsG.js";import"./@element-plus-YR8FD5Tz.js";import"./nprogress-CwwpQnHY.js";import"./@intlify-KwFOTgoq.js";import"./axios-XtWrBBVz.js";import"./qs-d0NUDaEV.js";import"./side-channel-ABGcfzWN.js";import"./get-intrinsic-Dcwdwnz4.js";import"./es-errors-Bza6HHKb.js";import"./has-symbols-BjfDv0FJ.js";import"./has-proto-DxUgyt-t.js";import"./function-bind-Ckw9YnhN.js";import"./hasown-DTGZhiFA.js";import"./call-bind-COXgxIYc.js";import"./set-function-length-CYeVTiyi.js";import"./define-data-property-DvIQPL4R.js";import"./es-define-property-DwRRhIwF.js";import"./gopd-CVOMcQVD.js";import"./has-property-descriptors-CDOEcoVi.js";import"./object-inspect-Da024_OR.js";import"./element-plus-AyclcJdL.js";import"./lodash-es-EFZEm3Z2.js";import"./@vueuse-DWSxN83p.js";import"./@popperjs-CpAfbxx4.js";import"./@ctrl-D2oWfImC.js";import"./dayjs-BeASU03D.js";import"./async-validator-Cuo4gI4y.js";import"./memoize-one-Ds0C_khL.js";import"./normalize-wheel-es-Vn5vHDCm.js";import"./@floating-ui-DT7V1Oc1.js";import"./vue-i18n-agluwRAO.js";import"./vue-CBwmpGZq.js";import"./mitt-CNZ6avp8.js";import"./vue-grid-layout-WvDAhvPt.js";/* empty css                    */import"./vue-demi-Dq6ymT-8.js";const N={class:"layout-parent"},T=r({__name:"parent",setup(r){const T=L((()=>t((()=>import("./iframes-BQqXi_6o.js")),__vite__mapDeps([0,1,2])))),I=k(),x=A(),C=e(),E=s(),{keepAliveNames:O,cachedViews:P}=b(C),{themeConfig:z}=b(E),S=o({refreshRouterViewKey:"",iframeRefreshKey:"",keepAliveNameList:[],iframeList:[]}),G=m((()=>z.value.animation)),U=m((()=>z.value.isTagsview?P.value:S.keepAliveNameList)),W=m((()=>I.meta.isIframe));return p((()=>{S.keepAliveNameList=O.value,i.on("onTagsViewRefreshRouterView",(e=>{S.keepAliveNameList=O.value.filter((e=>I.name!==e)),S.refreshRouterViewKey="",S.iframeRefreshKey="",l((()=>{S.refreshRouterViewKey=e,S.iframeRefreshKey=e,S.keepAliveNameList=O.value}))}))})),n((()=>{(async()=>{x.getRoutes().forEach((e=>{e.meta.isIframe&&(e.meta.isIframeOpen=!1,e.meta.loading=!0,S.iframeList.push({...e}))}))})(),l((()=>{setTimeout((()=>{if(z.value.isCacheTagsView){let e=a.get("tagsViewList")||[];P.value=e.filter((e=>{var s;return null==(s=e.meta)?void 0:s.isKeepAlive})).map((e=>e.name))}}),0)}))})),u((()=>{i.off("onTagsViewRefreshRouterView",(()=>{}))})),f((()=>I.fullPath),(()=>{S.refreshRouterViewKey=decodeURI(I.fullPath)}),{immediate:!0}),(e,s)=>{const i=h("router-view");return y(),j("div",N,[v(i,null,{default:d((({Component:e})=>[v(c,{name:G.value,mode:"out-in"},{default:d((()=>[(y(),w(K,{include:U.value},[R((y(),w(V(e),{key:S.refreshRouterViewKey,class:"w100"})),[[g,!W.value]])],1032,["include"]))])),_:2},1032,["name"])])),_:1}),v(c,{name:G.value,mode:"out-in"},{default:d((()=>[R(v(_(T),{class:"w100",refreshKey:S.iframeRefreshKey,name:G.value,list:S.iframeList},null,8,["refreshKey","name","list"]),[[g,W.value]])])),_:1},8,["name"])])}}});export{T as default};
